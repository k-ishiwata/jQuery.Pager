/**
 * jquery.pager.js
 *
 * @version  0.1.0
 * @author   k.ishiwata
 * @url     http://www.webopixel.net/
 * @license  http://rewish.org/license/mit The MIT License
 *
 * Since:   2012-03-28
 *
 * jQuery 1.7
 */
var Pager=function(o){var opts=$.extend({},$.fn.pager.defaults,o);this.currentPage=opts.currentPage;this.totalRec=opts.totalRec;this.pageRec=opts.pageRec;this.totalPage=Math.ceil(this.totalRec/this.pageRec);this.showNav=opts.showNav;this.path=opts.path;this.ele=opts.element;this.init();}
Pager.prototype={init:function(){if(this.totalPage<this.showNav){this.showNav=this.totalPage;}
if(this.totalPage<=1||this.totalPage<this.currentPage)return;this.makeNav(this.currentPage);},makeNav:function(current){this.ele.empty();var showNavh=Math.floor(this.showNav/2);var loopStart=current-showNavh;var loopEnd=current+showNavh;if(loopStart<=0){loopStart=1;loopEnd=this.showNav;}
if(loopEnd>this.totalPage){loopStart=this.totalPage-this.showNav+1;loopEnd=this.totalPage;}
var outNav='<ul>';if(current>2)outNav+='<li class="prev_page"><a href="'+this.path+'1">&laquo;</a></li>';if(current>1)outNav+='<li class="prev"><a href="'+this.path+(current-1)+'">&lsaquo;</a></li>';for(var i=loopStart;i<=loopEnd;i++){if(i==current){outNav+='<li class="page active">';}else{outNav+='<li class="page">';}
outNav+='<a href="'+this.path+i+'" rel="next">'+i+'</a></li>';}
if(current<this.totalPage)outNav+='<li class="next_page"><a href="'+this.path+(current+1)+'">&rsaquo;</a></li>';if(current<this.totalPage-1)outNav+='<li class="last next"><a href="'+this.path+this.totalPage+'">&raquo;</a></li>';outNav+='</ul>';this.ele.append(outNav);}};$.fn.pager=function(options){if(options)options.element=$(this);new Pager(options);}
$.fn.pager.defaults={totalRec:0,currentPage:1,pageRec:10,showNav:5,path:''}